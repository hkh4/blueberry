%!PS
%%BeginProlog

/composer {
1 dict begin gsave
/str exch def
/Times-Roman findfont
10 scalefont
setfont
newpath
0 0 0 setrgbcolor
565 720 moveto
str stringwidth pop -1 mul 0 rmoveto
str show
grestore end
} bind def

/centerText {
   dup stringwidth pop -0.5 mul 0 rmoveto show } def

/title {
   1 dict begin gsave
   /str exch def
   /Times-Roman findfont
   22 scalefont setfont
   newpath
   0 0 0 setrgbcolor
   306 745 moveto
   str centerText
   grestore end
} bind def

/drawBarre { % given: x, y, fret, start string, end string
   8 dict begin gsave
   /endString exch def
   /startString exch def
   /fret exch def
   /y1 exch def
   /x1 exch def
   /barreLength endString startString sub def
   /yStart 5 fret sub 10 mul 5 add y1 add def
   /xStart startString 1 sub 10 mul x1 add def
   xStart yStart moveto
   1 setlinecap
   5.5 setlinewidth
   10 barreLength mul 0 rlineto stroke
   grestore end
} bind def

/drawSpot { % given: x, y, fret, string
   6 dict begin gsave
   /spotString exch def
   /fret exch def
   /y1 exch def
   /x1 exch def
   /yStart 5 fret sub 10 mul 5 add y1 add def
   /xStart spotString 1 sub 10 mul x1 add def
   xStart yStart moveto
   1 setlinecap
   5.5 setlinewidth
   0 0 rlineto stroke
   grestore end
} bind def

/chart { % given: x, y
   3 dict begin gsave
   0.5 setlinewidth
   /y1 exch def
   /x1 exch def
   x1 y1 moveto
   0 1 5 {
      /num exch def
      x1 y1 num 10 mul add moveto
      50 0 rlineto
      x1 num 10 mul add y1 moveto
      0 50 rlineto
      stroke
   } for
   grestore end
} bind def



100 100 chart
100 100 1 2 6 drawBarre
100 100 2 3 drawSpot


%%EndProlog
