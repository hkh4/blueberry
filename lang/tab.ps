%!PS
%%BeginProlog

%string or array concatenation
/concatenate { %given string1 and string2
   dup length 2 index length add 1 index type
   /arraytype eq {array}{string} ifelse
   dup 0 4 index putinterval
   dup 4 -1 roll length 4 -1 roll putinterval
} bind def

%%jpeg images
/printimage {
%% stack: xcoord, ycoord, scalex, scaley, sizex, sizey, pathtofile, color
   8 dict begin
   /color exch def
   /pathtofile exch def
   /sizey exch def
   /sizex exch def
   /scaley exch def
   /scalex exch def
   /ycoord exch def
   /xcoord exch def
   gsave
   xcoord ycoord translate
   scalex scaley scale
   sizex sizey
   8
   [sizex 0 0 -1 sizey mul 0 sizey]
   pathtofile (r) file /DCTDecode filter
   false
   color
   colorimage
   grestore
   end
} bind def

% Create one number of the time signature.
/timesignature { % stack: x-coord, y-coord, number
   5 dict begin
   /num exch def
   /ycoord exch def
   /xcoord exch def
   /str (images/Time_Signature/0.jpg) def
   /num2 {num 48 add} bind def
   str 22 num2 put
   xcoord ycoord 7 8.909 66 84 str 3 printimage
} bind def

%HELPER: draw single horizontal staff line
/staffline { % xcoord, ycoord, int - 1 means first line, else 0
   4 dict begin
   /first exch def
   /ycoord exch def
   /xcoord exch def
   /width 515 def
   first 1 eq {/width 495 store} {} ifelse
   xcoord ycoord moveto
   0.4 setlinewidth
   width 0 rlineto
   stroke
   end
} bind def

%Bar line
/barline { %xcoord, ycoord, height, linewidth
   4 dict begin
   /linewidth exch def
   /height exch def
   /ycoord exch def
   /ycoord ycoord 0.2 sub store
   /xcoord exch def
   gsave
   linewidth setlinewidth
   xcoord ycoord moveto
   0 height rlineto
   stroke
   grestore
   end
} bind def

%Create the lines
/guitartablines { % x-coord and y-coord of the first measure line bottom left corner, so NOT the extra fancy line, and an int 1 or 0 to say if first line
   5 dict begin
   /flag exch def
   /ycoord exch def
   /xcoord exch def
   gsave
   %first vertical line
   1.33 setlinewidth
   xcoord ycoord 30.4 1.33 barline
   stroke
   % horizontal lines
   0.4 setlinewidth
   0 1 5 {
      /num exch def
      xcoord num 6 mul ycoord add flag staffline
   } for
   1.33 setlinewidth
   /width 515 def
   flag 1 eq {/width 495 store}{} ifelse
   xcoord width add ycoord 30.4 1.33 barline
   stroke
   xcoord ycoord 40 fancyline
   end
} bind def

%create fancy line at the beginning of staff
/fancyline { % given x coord, y coord, height
   3 dict begin
   /height exch def
   /ycoord exch def
   /xcoord exch def
   xcoord 5 sub ycoord 5 sub moveto
   2.5 setlinewidth
   0 height rlineto
   stroke
   newpath %bottom curl
   0.1 setlinewidth
   xcoord 4 sub ycoord 5 sub moveto
   xcoord 2 sub ycoord 5 sub xcoord 0.5 sub ycoord 5.5 sub xcoord 2 add ycoord 8 sub curveto
   xcoord ycoord 4.666 sub xcoord 6 sub ycoord 3 sub 10 arct
   closepath
   fill
   newpath %top curl
   xcoord 4 sub ycoord 5 sub height add moveto
   xcoord 2 sub ycoord 5 sub height add xcoord 0.5 sub ycoord 4.5 sub height add xcoord 2 add ycoord 2 sub height add curveto
   xcoord ycoord 5.333 sub height add xcoord 6 sub ycoord 7 sub height add 10 arct
   closepath
   fill
} bind def

/guitarfretnumber { %xcoord, ycoord, filestring
   8 dict begin
   /str exch def
   /ycoord exch def
   /xcoord exch def
   /scalex 4 def
   /scaley 4.51 def
   /sizex 800 def
   /sizey 902 def
   /filestring (temp) def
   str type /stringtype eq {
      /xcoord xcoord 0.4 sub store
      /filestring (images/Tab_Numbers/) str (.jpg) concatenate concatenate store
      /scalex 4.6 store
      /scaley 4.8 store
      /sizex 1000 store
      }{
      str 9 gt {
         /xcoord xcoord 1.7 sub store
         /scalex 7.3 store
         /sizex 1460 store
         }{} ifelse
      /filestring (images/Tab_Numbers/) str (ffff) cvs (.jpg) concatenate concatenate store
      } ifelse
   xcoord ycoord scalex scaley sizex sizey filestring 1 printimage
   end
} bind def

/quarterRest { %x,y
2 dict begin
gsave
0.1 setlinewidth
/ycoord exch def
/xcoord exch def
/ycoord ycoord 12 add store
xcoord ycoord moveto
xcoord 2.8000000000000003 add ycoord 3.857142857142857 sub lineto
xcoord 0.5714285714285714 add ycoord 6.571428571428571 sub xcoord 1.1428571428571428 add ycoord 7.285714285714286 sub xcoord 3.4285714285714284 add ycoord 9.514285714285714 sub curveto
xcoord 0.8571428571428571 add ycoord 8.657142857142857 sub xcoord ycoord 10.085714285714285 sub xcoord 1.657142857142857 add ycoord 12.085714285714285 sub curveto
xcoord 1.657142857142857 add ycoord 12.142857142857142 sub xcoord 1.5714285714285714 add ycoord 12.200000000000001 sub xcoord 1.4857142857142858 add ycoord 12.12857142857143 sub curveto
xcoord 2.142857142857143 sub ycoord 10.0 sub xcoord 0.19999999999999998 add ycoord 7.428571428571429 sub xcoord 1.7142857142857142 add ycoord 8.285714285714286 sub curveto
xcoord 0.6571428571428571 sub ycoord 5.257142857142857 sub lineto
xcoord 1.1428571428571428 add ycoord 3.257142857142857 sub xcoord 1.1428571428571428 add ycoord 2.2857142857142856 sub xcoord 0.24285714285714285 sub ycoord 0.19999999999999998 sub curveto
xcoord 0.24285714285714285 sub ycoord 0.1142857142857143 sub xcoord 0.14285714285714285 sub ycoord xcoord ycoord curveto
fill
grestore
end
} bind def
%%EndProlog

%%print staff
73 652 7 25.2 70 252 (images/Staves/staff.jpg) 3 printimage

%% timesignature
84 656 4 timesignature
84 665 4 timesignature

%%staff lines
70 650 1 guitartablines
50 580 0 guitartablines


100 659.5 5 guitarfretnumber
100 665.5 10 guitarfretnumber
100 671.5 (x) guitarfretnumber

0.9 setlinewidth
102 682 moveto 0 10 rlineto stroke

115 659.5 5 guitarfretnumber
115 665.5 10 guitarfretnumber
115 671.5 (x) guitarfretnumber

130 659.5 3 guitarfretnumber
130 665.5 12 guitarfretnumber

145 653.5 4 guitarfretnumber
145 677.5 19 guitarfretnumber

155 650 30.4 0.7 barline

160 647.5 (x) guitarfretnumber
160 671.5 2 guitarfretnumber



170 650 quarterRest


0.1 setlinewidth

/restCurl {
   2 dict begin
   gsave
   /ycoord exch def
   /xcoord exch def
   newpath
   xcoord ycoord moveto
   xcoord 15 sub ycoord 12 sub xcoord 24.5 sub ycoord 20.5 sub xcoord 34 sub ycoord 23 sub curveto
   xcoord 57 sub ycoord 43 sub lineto
   xcoord 47 sub ycoord 43 sub xcoord 43 sub ycoord 41 sub xcoord 22 sub ycoord 33.5 sub curveto
   xcoord 20 sub ycoord 33 sub xcoord 20 sub ycoord 38.5 sub 2 arct
   closepath
   fill
   newpath xcoord 57 sub ycoord 19 sub 24 0 360 arc fill
   grestore
   end
} bind def

/eighthRest {
   2 dict begin
   gsave
   0.1 setlinewidth
   /ycoord exch def
   /xcoord exch def
   xcoord ycoord moveto
   xcoord 1 add ycoord 4.5 sub xcoord 19 add ycoord 3.5 sub xcoord 23 add ycoord curveto
   xcoord 63 add ycoord 144 add lineto
   xcoord 63 add ycoord 147 add xcoord 58 add ycoord 151 add xcoord 55 add ycoord 149 add curveto
   xcoord 35 add ycoord 113.5 add lineto
   xcoord 35 add ycoord 106 add xcoord 1 sub ycoord 3 add xcoord 1 sub ycoord 3 add curveto
   xcoord 2 sub ycoord xcoord 1.2 add ycoord 1.5 sub 4 arct
   fill
   xcoord 55 add ycoord 149 add restCurl
   grestore
   end
} bind def

newpath
300 400 moveto
301 395.5 319 396.5 323 400 curveto
363 544 lineto
363 547 358 551 355 549 curveto
335 513.5 lineto
335 506 299 403 299 403 curveto
298 400 301.2 398.5 4 arct
fill

newpath
355 549 moveto
340 537 330.5 528.5 321 526 curveto
298 506 lineto
308 506 312 508 333 515.5 curveto
335 516 335 510.5 2 arct
closepath
fill
newpath 298 530 24 0 360 arc fill




%16
newpath
400 400 moveto
401 395.5 419 396.5 423 400 curveto
491 635 lineto
491 638 486 650 483 640 curveto
463 604.5 lineto
435 506 399 403 399 403 curveto
398 400 401.2 398.5 4 arct
fill


%shift over 1
newpath
456 549 moveto
441 537 431.5 529.5 421 526 curveto
399 506 lineto
409 506 413 508 434 515.5 curveto
436 516 436 510.5 2 arct
closepath
fill
newpath 399 530 24 0 360 arc fill


%27 90


%28 91


500 400 eighthRest





showpage
%%EOF
