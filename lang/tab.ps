%!PS
%%BeginProlog

%string or array concatenation
/concatenate { %given string1 and string2
   dup length 2 index length add 1 index type
   /arraytype eq {array}{string} ifelse
   dup 0 4 index putinterval
   dup 4 -1 roll length 4 -1 roll putinterval
} bind def

%%jpeg images
/printimage {
%% stack: xcoord, ycoord, scalex, scaley, sizex, sizey, pathtofile, color
   8 dict begin
   /color exch def
   /pathtofile exch def
   /sizey exch def
   /sizex exch def
   /scaley exch def
   /scalex exch def
   /ycoord exch def
   /xcoord exch def
   gsave
   xcoord ycoord translate
   scalex scaley scale
   sizex sizey
   8
   [sizex 0 0 -1 sizey mul 0 sizey]
   pathtofile (r) file /DCTDecode filter
   false
   color
   colorimage
   grestore
   end
} bind def

% Create one number of the time signature.
/timesignature { % stack: x-coord, y-coord, number
   5 dict begin
   /num exch def
   /ycoord exch def
   /xcoord exch def
   /str (images/Time_Signature/0.jpg) def
   /num2 {num 48 add} bind def
   str 22 num2 put
   xcoord ycoord 7 8.909 66 84 str 3 printimage
} bind def

%HELPER: draw single horizontal staff line
/staffline { % xcoord, ycoord, int - 1 means first line, else 0
   4 dict begin
   /first exch def
   /ycoord exch def
   /xcoord exch def
   /width 515 def
   first 1 eq {/width 495 store} {} ifelse
   xcoord ycoord moveto
   0.4 setlinewidth
   width 0 rlineto
   stroke
   end
} bind def

%Bar line
/barline { %xcoord, ycoord, height, linewidth
   4 dict begin
   /linewidth exch def
   /height exch def
   /ycoord exch def
   /ycoord ycoord 0.2 sub store
   /xcoord exch def
   gsave
   linewidth setlinewidth
   xcoord ycoord moveto
   0 height rlineto
   stroke
   grestore
   end
} bind def

%Create the lines
/guitartablines { % x-coord and y-coord of the first measure line bottom left corner, so NOT the extra fancy line, and an int 1 or 0 to say if first line
   5 dict begin
   /flag exch def
   /ycoord exch def
   /xcoord exch def
   gsave
   %first vertical line
   1.33 setlinewidth
   xcoord ycoord 30.4 1.33 barline
   stroke
   % horizontal lines
   0.4 setlinewidth
   0 1 5 {
      /num exch def
      xcoord num 6 mul ycoord add flag staffline
   } for
   1.33 setlinewidth
   /width 515 def
   flag 1 eq {/width 495 store}{} ifelse
   xcoord width add ycoord 30.4 1.33 barline
   stroke
   xcoord ycoord 40 fancyline
   end
} bind def

%create fancy line at the beginning of staff
/fancyline { % given x coord, y coord, height
   3 dict begin
   /height exch def
   /ycoord exch def
   /xcoord exch def
   xcoord 5 sub ycoord 5 sub moveto
   2.5 setlinewidth
   0 height rlineto
   stroke
   newpath %bottom curl
   0.1 setlinewidth
   xcoord 4 sub ycoord 5 sub moveto
   xcoord 2 sub ycoord 5 sub xcoord 0.5 sub ycoord 5.5 sub xcoord 2 add ycoord 8 sub curveto
   xcoord ycoord 4.666 sub xcoord 6 sub ycoord 3 sub 10 arct
   closepath
   fill
   newpath %top curl
   xcoord 4 sub ycoord 5 sub height add moveto
   xcoord 2 sub ycoord 5 sub height add xcoord 0.5 sub ycoord 4.5 sub height add xcoord 2 add ycoord 2 sub height add curveto
   xcoord ycoord 5.333 sub height add xcoord 6 sub ycoord 7 sub height add 10 arct
   closepath
   fill
} bind def

/guitarfretnumber { %xcoord, ycoord, filestring
   8 dict begin
   /str exch def
   /ycoord exch def
   /xcoord exch def
   /scalex 4 def
   /scaley 4.51 def
   /sizex 800 def
   /sizey 902 def
   /filestring (temp) def
   str type /stringtype eq {
      /xcoord xcoord 0.4 sub store
      /filestring (images/Tab_Numbers/) str (.jpg) concatenate concatenate store
      /scalex 4.6 store
      /scaley 4.8 store
      /sizex 1000 store
      }{
      str 9 gt {
         /xcoord xcoord 1.7 sub store
         /scalex 7.3 store
         /sizex 1460 store
         }{} ifelse
      /filestring (images/Tab_Numbers/) str (ffff) cvs (.jpg) concatenate concatenate store
      } ifelse
   xcoord ycoord scalex scaley sizex sizey filestring 1 printimage
   end
} bind def

/quarterRest { %x,y
2 dict begin
gsave
0.1 setlinewidth
/ycoord exch def
/xcoord exch def
/ycoord ycoord 12 add store
xcoord ycoord moveto
xcoord 2.8000000000000003 add ycoord 3.857142857142857 sub lineto
xcoord 0.5714285714285714 add ycoord 6.571428571428571 sub xcoord 1.1428571428571428 add ycoord 7.285714285714286 sub xcoord 3.4285714285714284 add ycoord 9.514285714285714 sub curveto
xcoord 0.8571428571428571 add ycoord 8.657142857142857 sub xcoord ycoord 10.085714285714285 sub xcoord 1.657142857142857 add ycoord 12.085714285714285 sub curveto
xcoord 1.657142857142857 add ycoord 12.142857142857142 sub xcoord 1.5714285714285714 add ycoord 12.200000000000001 sub xcoord 1.4857142857142858 add ycoord 12.12857142857143 sub curveto
xcoord 2.142857142857143 sub ycoord 10.0 sub xcoord 0.19999999999999998 add ycoord 7.428571428571429 sub xcoord 1.7142857142857142 add ycoord 8.285714285714286 sub curveto
xcoord 0.6571428571428571 sub ycoord 5.257142857142857 sub lineto
xcoord 1.1428571428571428 add ycoord 3.257142857142857 sub xcoord 1.1428571428571428 add ycoord 2.2857142857142856 sub xcoord 0.24285714285714285 sub ycoord 0.19999999999999998 sub curveto
xcoord 0.24285714285714285 sub ycoord 0.1142857142857143 sub xcoord 0.14285714285714285 sub ycoord xcoord ycoord curveto
fill
grestore
end
} bind def
%%EndProlog

%%print staff
73 652 7 25.2 70 252 (images/Staves/staff.jpg) 3 printimage

%% timesignature
84 656 4 timesignature
84 665 4 timesignature

%%staff lines
70 650 1 guitartablines
50 580 0 guitartablines


100 659.5 5 guitarfretnumber
100 665.5 10 guitarfretnumber
100 671.5 (x) guitarfretnumber

0.9 setlinewidth
102 682 moveto 0 10 rlineto stroke

115 659.5 5 guitarfretnumber
115 665.5 10 guitarfretnumber
115 671.5 (x) guitarfretnumber

130 659.5 3 guitarfretnumber
130 665.5 12 guitarfretnumber

145 653.5 4 guitarfretnumber
145 677.5 19 guitarfretnumber

155 650 30.4 0.7 barline

160 647.5 (x) guitarfretnumber
160 671.5 2 guitarfretnumber



170 650 quarterRest


0.1 setlinewidth

/restCurl {
   2 dict begin
   gsave
   /ycoord exch def
   /xcoord exch def
   newpath
   xcoord ycoord moveto
   xcoord 0.64816513755 sub ycoord 0.51853211004 sub xcoord 1.058669724665 sub ycoord 0.885825687985 sub xcoord 1.46917431178 sub ycoord 0.99385321091 sub curveto
   xcoord 2.46302752269 sub ycoord 1.85807339431 sub lineto
   xcoord 2.03091743099 sub ycoord 1.85807339431 sub xcoord 1.85807339431 sub ycoord 1.77165137597 sub xcoord 0.95064220174 sub ycoord 1.4475688071950001 sub curveto
   xcoord 0.8642201834000001 sub ycoord 1.42596330261 sub xcoord 0.8642201834000001 sub ycoord 1.663623853045 sub 0.08642201834 arct
   closepath
   fill
   newpath xcoord 2.46302752269 sub ycoord 0.8210091742300001 sub 1.03706422008 0 360 arc fill
   grestore
   end
} bind def

/8thRest {
   2 dict begin
   gsave
   0.1 setlinewidth
   /ycoord exch def
   /xcoord exch def
   xcoord ycoord moveto
   xcoord 0.04321100917 add ycoord 0.194449541265 sub xcoord 0.8210091742300001 add ycoord 0.15123853209500002 sub xcoord 0.99385321091 add ycoord curveto
   xcoord 2.72229357771 add ycoord 6.22238532048 add lineto
   xcoord 2.72229357771 add ycoord 6.3520183479900005 add xcoord 2.5062385318600002 add ycoord 6.5248623846700005 add xcoord 2.37660550435 add ycoord 6.43844036633 add curveto
   xcoord 1.51238532095 add ycoord 4.904449540795 add lineto
   xcoord 1.51238532095 add ycoord 4.58036697202 add xcoord 0.04321100917 sub ycoord 0.12963302751 add xcoord 0.04321100917 sub ycoord 0.12963302751 add curveto
   xcoord 0.08642201834 sub ycoord xcoord 0.051853211004 add ycoord 0.064816513755 sub 0.17284403668 arct
   fill
   xcoord 2.37660550435 add ycoord 6.43844036633 add restCurl
   grestore
   end
} bind def



/16thRest {
   2 dict begin
   gsave
   /ycoord exch def
   /xcoord exch def
   xcoord ycoord moveto
   xcoord 1 add ycoord 4.5 sub xcoord 19 add ycoord 3.5 sub xcoord 23 add ycoord curveto
   xcoord 91 add ycoord 235 add lineto
   xcoord 91.5 add ycoord 237.5 add xcoord 86.5 add ycoord 241.5 add xcoord 84 add ycoord 240 add curveto
   xcoord 64 add ycoord 204.5 add lineto
   xcoord 35 add ycoord 106 add xcoord 1 sub ycoord 3 add xcoord 1 sub ycoord 3 add curveto
   xcoord 2 sub ycoord xcoord 1.2 add ycoord 1.5 sub 4 arct
   fill
   xcoord 56 add ycoord 149 add restCurl
   xcoord 84 add ycoord 240 add restCurl
   grestore
   end
} bind def

6 85

/32ndRest {
   2 dict begin
   gsave
   /ycoord exch def
   /xcoord exch def
   xcoord ycoord moveto
   xcoord 1 add ycoord 4.5 sub xcoord 19 add ycoord 3.5 sub xcoord 23 add ycoord curveto
   xcoord 104.5 add ycoord 327.5 add lineto
   xcoord 105 add ycoord 328 add xcoord 102.5 add ycoord 332.5 add xcoord 98 add ycoord 330.3 add curveto
   xcoord 79 add ycoord 296 add lineto
   xcoord 31 add ycoord 106 add xcoord 1 sub ycoord 3 add xcoord 1 sub ycoord 3 add curveto
   xcoord 2 sub ycoord xcoord 1.2 add ycoord 1.5 sub 4 arct
   fill
   xcoord 51 add ycoord 149 add restCurl
   xcoord 75.5 add ycoord 240 add restCurl
   xcoord 99 add ycoord 331 add restCurl
   grestore
   end
} bind def

123 415
18.5 87.5
/64thRest {
   2 dict begin
   gsave
   /ycoord exch def
   /xcoord exch def
   xcoord ycoord moveto
   xcoord 1 add ycoord 4.5 sub xcoord 19 add ycoord 3.5 sub xcoord 23 add ycoord curveto
   xcoord 128 add ycoord 420 add lineto
   xcoord 127 add ycoord 423 add xcoord 126 add ycoord 424 add xcoord 121.5 add ycoord 422.8 add curveto
   xcoord 102 add ycoord 388 add lineto
   xcoord 31 add ycoord 106 add xcoord 1 sub ycoord 3 add xcoord 1 sub ycoord 3 add curveto
   xcoord 2 sub ycoord xcoord 1.2 add ycoord 1.5 sub 4 arct
   fill
   xcoord 51 add ycoord 149 add restCurl
   xcoord 75 add ycoord 240 add restCurl
   xcoord 99 add ycoord 331 add restCurl
   xcoord 122 add ycoord 423 add restCurl
   grestore
   end
} bind def

%400 200 64thRest

%300 200 32ndRest

%200 200 16thRest

100 200 8thRest





showpage
%%EOF
